<!DOCTYPE html>
<html lang="lt">
<head>
    <meta charset="UTF-8">
    <title>Veikiamieji dalyviai â€“ dviraÄiÅ³ Å¾ygis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'OpenDyslexic', Arial, sans-serif;
            letter-spacing: 0.05em;
            background-color: #E8F4F8;
            line-height: 1.9;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }
        .page-wrapper {
            width: 100%;
            max-width: 1100px;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }
        .back-btn {
            display: inline-flex;
            align-items: center;
            padding: 12px 24px;
            background-color: #93c5fd;
            color: #1e3a8a;
            text-decoration: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            transition: background-color 0.3s;
            white-space: nowrap;
        }
        .back-btn:hover { background-color: #7CB3E9; }

        .student-info {
            background-color: #ffffff;
            padding: 10px 20px;
            border-radius: 10px;
            border: 2px solid #4A90E2;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-grow: 1;
            gap: 10px;
        }
        .change-name-btn {
            background-color: #4A90E2;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'OpenDyslexic', Arial, sans-serif;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        .change-name-btn:hover { background-color: #0D3B66; }

        .card {
            width: 100%;
            background-color: #ffffff;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(26, 77, 122, 0.15);
            padding: 30px;
            border: 3px solid #4A90E2;
            margin-bottom: 25px;
        }

        .intro-text {
            font-size: 1.9rem;
            font-weight: bold;
            color: #0D3B66;
            margin-bottom: 15px;
            text-align: center;
        }
        .intro-content {
            font-size: 1.1rem;
            color: #1A4D7A;
        }
        .intro-content ul {
            margin-top: 10px;
            padding-left: 25px;
            list-style: disc;
        }
        .intro-content li { margin-bottom: 6px; }

        .text-block {
            background-color: #E8F4F8;
            border-radius: 12px;
            border: 2px solid #7CB3E9;
            padding: 20px;
            margin-top: 12px;
            font-size: 1.1rem;
            line-height: 1.9;
            color: #1A4D7A;
        }
        .text-word {
            display: inline-block;
            padding: 3px 4px;
            margin: 1px 1px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .text-word:hover {
            background-color: #dbeafe;
        }
        .word-selected {
            background-color: #fff9c4;
            border: 1px solid #facc15;
        }
        .word-participle-veik {
            background-color: #bbf7d0;
            border: 1px solid #16a34a;
        }
        .word-participle-neveik {
            background-color: #fecaca;
            border: 1px solid #ef4444;
        }
        .word-dragged-faded {
            opacity: 0.4;
        }

        .drag-source-container {
            margin-top: 15px;
            padding: 10px;
            background-color: #f9fafb;
            border-radius: 10px;
            border: 1px dashed #9ca3af;
            font-size: 0.95rem;
            color: #4b5563;
        }

        .drag-item {
            display: inline-block;
            padding: 6px 10px;
            margin: 4px;
            border-radius: 8px;
            background-color: #e0f2fe;
            border: 1px solid #60a5fa;
            cursor: grab;
            font-size: 0.98rem;
        }
        .drag-item.dragged {
            opacity: 0.4;
            cursor: default;
        }

        .table-wrapper {
            margin-top: 20px;
            overflow-x: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.98rem;
        }
        th, td {
            border: 1px solid #cbd5e1;
            padding: 8px 6px;
            text-align: left;
        }
        th {
            background-color: #DBEAFE;
            color: #1e3a8a;
            font-weight: 700;
            text-align: center;
        }
        td:first-child { text-align: center; }

        .drop-cell {
            min-width: 140px;
            min-height: 36px;
            background-color: #f9fafb;
        }
        .drop-cell.over {
            outline: 2px dashed #3b82f6;
        }

        select {
            width: 100%;
            padding: 6px 4px;
            border-radius: 6px;
            border: 1px solid #93c5fd;
            font-family: 'OpenDyslexic', Arial, sans-serif;
            background-color: #ffffff;
        }

        .cell-correct {
            background-color: #d4edda !important;
            border-color: #27ae60 !important;
        }
        .cell-incorrect {
            background-color: #f8d7da !important;
            border-color: #e74c3c !important;
        }

        .button-container {
            text-align: center;
            margin-top: 20px;
        }
        .action-button {
            padding: 14px 32px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            background: linear-gradient(135deg, #4A90E2, #0D3B66);
            color: white;
            border: none;
            border-radius: 10px;
            transition: all 0.3s;
            font-family: 'OpenDyslexic', Arial, sans-serif;
        }
        .action-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        }

        .feedback-text {
            margin-top: 12px;
            font-size: 1rem;
            color: #1A4D7A;
        }
        .result-container {
            text-align: center;
            margin-top: 18px;
            font-size: 1.3rem;
            font-weight: bold;
            color: #1A4D7A;
            padding: 16px;
            background-color: #E8F4F8;
            border-radius: 10px;
            border: 3px solid #4ECDC4;
        }

        .memo-title {
            font-size: 1.4rem;
            font-weight: 800;
            color: #1d4ed8;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .memo-card {
            margin-top: 10px;
            padding: 18px;
            border-radius: 14px;
            background-color: #f9fafb;
            border: 2px solid #bfdbfe;
            font-size: 0.98rem;
            color: #1f2937;
        }
        .memo-card ul {
            margin-left: 20px;
            margin-top: 8px;
        }
        .memo-card li { margin-bottom: 4px; }

        @media (max-width: 768px) {
            .intro-text { font-size: 1.6rem; }
            .card { padding: 22px; }
            .header-container {
                flex-direction: column;
                align-items: stretch;
            }
            .back-btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
<div class="page-wrapper">

    <div class="header-container">
        <a href="/Mokyklai/" class="back-btn">â† GrÄ¯Å¾ti Ä¯ pradÅ¾iÄ…</a>
        <div class="student-info">
            <span style="font-size: 18px; color: #1A4D7A;">
                Mokinys: <strong id="studentNameDisplay"></strong>
            </span>
            <button class="change-name-btn" onclick="changeName()">Keisti vardÄ…</button>
        </div>
    </div>

    <!-- PAGRINDINÄ– UÅ½DUOTIS -->
    <div class="card">
        <h2 class="intro-text">Veikiamieji dalyviai â€“ dviraÄiÅ³ Å¾ygis</h2>
        <div class="intro-content">
            <ul>
                <li>ğŸ“– <strong>Perskaityk</strong> tekstÄ….</li>
                <li>ğŸŸ¡ <strong>Spausk</strong> ant Å¾odÅ¾iÅ³, kurie yra <strong>dalyviai</strong> â€“ jie bus paryÅ¡kinti.</li>
                <li>ğŸš² IÅ¡ paryÅ¡kintÅ³ dalyviÅ³ <strong>nutempk veikiamuosius dalyvius</strong> Ä¯ lentelÄ™ â€Veikiamieji dalyviaiâ€œ.</li>
                <li>â± Å alia kiekvieno <strong>pasirink</strong> iÅ¡ sÄ…raÅ¡o, iÅ¡ kokio laiko kamieno jis padarytas.</li>
                <li>âœ… Paspausk â€Pasitikrintiâ€œ ir paÅ¾iÅ«rÄ—k, kaip sekÄ—si.</li>
            </ul>
        </div>

        <!-- TEKSTAS -->
        <div class="text-block" id="text-container">
            <!-- Å½odÅ¾iai sugeneruojami JS -->
        </div>

        <!-- Drag Å¡altinis -->
        <div class="drag-source-container" id="drag-source-info">
            PaÅ¾ymÄ—k dalyvius tekste. Veikiamieji dalyviai atsiras Äia ir galÄ—si juos nutempti Ä¯ lentelÄ™:
            <div id="drag-source"></div>
        </div>

        <!-- LENTELÄ– -->
        <div class="table-wrapper">
            <table id="veik-table">
                <thead>
                <tr>
                    <th>Nr.</th>
                    <th>Veikiamasis dalyvis</th>
                    <th>Laikas (kamienas)</th>
                </tr>
                </thead>
                <tbody>
                <!-- 6 eilutÄ—s sugeneruojamos JS -->
                </tbody>
            </table>
        </div>

        <div class="feedback-text" id="feedback-area"></div>

        <div class="button-container">
            <button onclick="checkTask()" class="action-button">âœ… Pasitikrinti</button>
        </div>

        <div id="result-box" class="result-container" style="display:none;"></div>
    </div>

    <!-- ATMINTINÄ–S -->
    <div class="card">
        <div class="memo-title">ğŸ‘€ AtmintinÄ—: veikiamÅ³jÅ³ dalyviÅ³ daryba</div>
        <div class="memo-card">
            <strong>Veikiamieji dalyviai turi 4 laikus:</strong> esamÄ…jÄ¯, bÅ«tÄ…jÄ¯ kartinÄ¯, bÅ«tÄ…jÄ¯ daÅ¾ninÄ¯ ir bÅ«simÄ…jÄ¯.  
            <br>JÅ³ kamienai daromi iÅ¡ skirtingÅ³ veiksmaÅ¾odÅ¾io formÅ³.
            <ul>
                <li><strong>Esamasis:</strong> daromas iÅ¡ esamojo laiko kamieno.  
                    <em>dirba â†’ dirbantis, dirbanti; laukia â†’ laukiantis, laukianti</em></li>
                <li><strong>BÅ«tasis kartinis:</strong> daromas iÅ¡ bÅ«tojo kartinio laiko kamieno.  
                    <em>dirbo â†’ dirbÄ™s, dirbusi; laukÄ— â†’ laukÄ™s, laukusi</em></li>
                <li><strong>BÅ«tasis daÅ¾ninis:</strong> daromas iÅ¡ bÅ«tojo daÅ¾ninio laiko kamieno.  
                    <em>dirbdavo â†’ dirbdavÄ™s, dirbdavusi</em></li>
                <li><strong>BÅ«simasis:</strong> daromas iÅ¡ bÅ«simojo laiko kamieno.  
                    <em>dirbs â†’ dirbsiÄ…s, dirbsianti</em></li>
            </ul>
        </div>

        <div class="memo-title" style="margin-top:18px;">ğŸ‘€ AtmintinÄ—: veikiamieji ir neveikiamieji dalyviai</div>
        <div class="memo-card">
            <p><strong>Veikiamasis dalyvis</strong> rodo tÄ…, kuris <strong>daro veiksmÄ…</strong>:</p>
            <ul>
                <li><em>dÄ—dÄ—, kuris raÅ¡o laiÅ¡kÄ… â†’ raÅ¡antis dÄ—dÄ—</em></li>
                <li><em>draugÄ—, kuri paraÅ¡Ä— Å¾inutÄ™ â†’ paraÅ¡iusi draugÄ—</em></li>
            </ul>
            <p><strong>Neveikiamasis dalyvis</strong> rodo tÄ…, kuris <strong>yra paveiktas veiksmo</strong> (jam kaÅ¾kas padaryta):</p>
            <ul>
                <li><em>laiÅ¡kas, kurÄ¯ raÅ¡o â†’ raÅ¡omas laiÅ¡kas</em></li>
                <li><em>Å¾inutÄ—, kuriÄ… paraÅ¡Ä— â†’ paraÅ¡yta Å¾inutÄ—</em></li>
            </ul>
            <p>Å ioje uÅ¾duotyje tekste yra ir veikiamÅ³jÅ³, ir vienas neveikiamasis dalyvis â€“ jÄ¯ atpaÅ¾ink remdamasis Å¡ia atmintine.</p>
        </div>
    </div>

</div>

<script>
    // --- VardÅ³ valdymas ---
    function showNamePrompt() {
        const studentName = localStorage.getItem('studentName');
        if (!studentName) {
            const name = prompt('Ä®vesk savo vardÄ…:');
            if (name && name.trim() !== '') {
                localStorage.setItem('studentName', name.trim());
                return name.trim();
            } else {
                alert('PraÅ¡ome Ä¯vesti vardÄ…, kad galÄ—tumÄ—te pradÄ—ti uÅ¾duotÄ¯.');
                return showNamePrompt();
            }
        }
        return studentName;
    }
    function changeName() {
        localStorage.removeItem('studentName');
        const newName = showNamePrompt();
        alert(`Vardas pakeistas Ä¯: \${newName}`);
        location.reload();
    }
    function sendResultToSheet(taskName, score) {
        const studentName = localStorage.getItem('studentName') || 'NeÅ¾inomas';
        const timestamp = new Date().toLocaleString('lt-LT');
        const data = { name: studentName, task: taskName, score: score, timestamp: timestamp };

        fetch('https://script.google.com/macros/s/AKfycbzhXP3hJ6NBLOld6Gbg-tlN-Tk8BPoxx32tx9j-iKCJChVyeOpZiDyGu9g2cm6Vl0uf/exec', {
            method: 'POST',
            mode: 'no-cors',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data)
        }).then(() => {
            console.log('Rezultatas sÄ—kmingai iÅ¡siÅ³stas Ä¯ Google Sheets! âœ…');
        }).catch(error => {
            console.error('Klaida siunÄiant rezultatÄ…:', error);
        });
    }

    const studentName = showNamePrompt();
    document.getElementById('studentNameDisplay').textContent = studentName;

    // --- Tekstas ir dalyviai ---
    const TEXT = "IÅ¡girdÄ™s apie dviraÄiÅ³ Å¾ygÄ¯, skirtÄ… Baltijos kelio akcijai paminÄ—ti, suklusau: kodÄ—l jie vaÅ¾iuoja 600 kilometrÅ³ nuo Vilniaus per RygÄ… iki Talino? Ar tuometiniai Baltijos kelio dalyviai taip pat keliavo dviraÄiais, kaip dabar kad Å¡iuo marÅ¡rutu keliaujantys dviratininkai? Kas buvo toji Dainuojanti revoliucija? KÄ… tuomet dainavÄ™ Å¾monÄ—s? Mano klausimus suprantÄ…s senelis Ä—mÄ— pasakoti.";

    // Å¾odÅ¾iai, kurie yra dalyviai (pagal pavirÅ¡inÄ™ formÄ… tekste)
    const PARTICIPLES = {
        "IÅ¡girdÄ™s":      { type: "veikiamasis", time: "bÅ«tasis kartinis" },
        "skirtÄ…":       { type: "neveikiamasis", time: null },
        "keliavÄ™":      { type: "veikiamasis", time: "bÅ«tasis kartinis" },
        "keliaujantys": { type: "veikiamasis", time: "esamasis" },
        "Dainuojanti":  { type: "veikiamasis", time: "esamasis" },
        "dainavÄ™":      { type: "veikiamasis", time: "bÅ«tasis kartinis" },
        "suprantÄ…s":    { type: "veikiamasis", time: "esamasis" }
    };

    // veikiamÅ³jÅ³ dalyviÅ³ sÄ…raÅ¡as drag&drop daliai
    const VEIK_PARTICIPLES = [
        "IÅ¡girdÄ™s",
        "keliavÄ™",
        "keliaujantys",
        "Dainuojanti",
        "dainavÄ™",
        "suprantÄ…s"
    ];

    // select'e rodomi variantai
    const TIME_OPTIONS = [
        "",
        "turi esamojo laiko kamienÄ…",
        "turi bÅ«tojo kartinio laiko kamienÄ…",
        "turi bÅ«tojo daÅ¾ninio laiko kamienÄ…",
        "turi bÅ«simojo laiko kamienÄ…"
    ];

    // teisingi atsakymai veikiamiesiems (pagal kamienÄ…)
    const VEIK_CORRECT_TIME = {
        "IÅ¡girdÄ™s":      "turi bÅ«tojo kartinio laiko kamienÄ…",
        "keliavÄ™":      "turi bÅ«tojo kartinio laiko kamienÄ…",
        "keliaujantys": "turi esamojo laiko kamienÄ…",
        "Dainuojanti":  "turi esamojo laiko kamienÄ…",
        "dainavÄ™":      "turi bÅ«tojo kartinio laiko kamienÄ…",
        "suprantÄ…s":    "turi esamojo laiko kamienÄ…"
    };

    // --- BÅ«sena ---
    let draggedWord = null;          // kuris dalyvis Å¡iuo metu tempiamas
    const usedWords = {};            // { "IÅ¡girdÄ™s": true, ... } â€“ kad nekartotÅ³
    const dropAssignments = {};      // { rowId: "IÅ¡girdÄ™s", ... }

    // --- Teksto generavimas su paspaudÅ¾iamais Å¾odÅ¾iais ---
    function buildText() {
        const container = document.getElementById('text-container');
        container.innerHTML = "";

        // skaidome Ä¯ Å¾odÅ¾ius, bet paliekame skyrybÄ…
        const tokens = TEXT.split(/(\s+|[,.?!:;])/);

        tokens.forEach(token => {
            if (token.trim() === "") {
                container.appendChild(document.createTextNode(token));
                return;
            }

            // skyrybos Å¾enklai â€“ ne spaudÅ¾iami
            if (/^[,.?!:;]$/.test(token)) {
                const spanPunct = document.createElement('span');
                spanPunct.textContent = token;
                container.appendChild(spanPunct);
                return;
            }

            const span = document.createElement('span');
            span.textContent = token;
            span.className = "text-word";

            // jei tai dalyvis â€“ leisime paÅ¾ymÄ—ti
            if (PARTICIPLES[token]) {
                span.addEventListener('click', () => toggleParticiple(span, token));
            }

            container.appendChild(span);
        });
    }

    function toggleParticiple(span, word) {
        // perjungiam paÅ¾ymÄ—jimÄ…
        if (span.classList.contains('word-selected') ||
            span.classList.contains('word-participle-veik') ||
            span.classList.contains('word-participle-neveik')) {

            span.classList.remove('word-selected', 'word-participle-veik', 'word-participle-neveik');
            // jei tai veikiamasis ir jis dar nebuvo nutemptas â€“ paÅ¡alinam iÅ¡ drag sÄ…raÅ¡o
            if (PARTICIPLES[word].type === "veikiamasis" && !usedWords[word]) {
                removeFromDragSource(word);
            }
        } else {
            const info = PARTICIPLES[word];
            if (info.type === "veikiamasis") {
                span.classList.add('word-participle-veik');
                addToDragSource(word);
            } else {
                span.classList.add('word-participle-neveik');
            }
        }
    }

    // --- Drag source (veikiamieji dalyviai) ---
    function addToDragSource(word) {
        const container = document.getElementById('drag-source');
        // jei jau yra â€“ nedubliuojam
        if (container.querySelector(`[data-word="${word}"]`)) return;

        const item = document.createElement('span');
        item.className = 'drag-item';
        item.textContent = word;
        item.draggable = true;
        item.dataset.word = word;

        item.addEventListener('dragstart', (e) => {
            if (usedWords[word]) {
                e.preventDefault();
                return;
            }
            draggedWord = word;
            e.dataTransfer.effectAllowed = "move";
        });

        item.addEventListener('dragend', () => {
            draggedWord = null;
        });

        container.appendChild(item);
    }

    function removeFromDragSource(word) {
        const container = document.getElementById('drag-source');
        const el = container.querySelector(`[data-word="${word}"]`);
        if (el && !usedWords[word]) {
            container.removeChild(el);
        }
    }

    // --- LentelÄ—s generavimas ---
    function buildTable() {
        const tbody = document.querySelector('#veik-table tbody');
        tbody.innerHTML = "";

        // turime 6 veikiamuosius â€“ tiek ir eiluÄiÅ³
        for (let i = 1; i <= VEIK_PARTICIPLES.length; i++) {
            const tr = document.createElement('tr');

            const tdNr = document.createElement('td');
            tdNr.textContent = i;
            tr.appendChild(tdNr);

            const tdWord = document.createElement('td');
            tdWord.className = 'drop-cell';
            tdWord.id = `drop-${i}`;
            tdWord.addEventListener('dragover', (e) => {
                e.preventDefault();
                tdWord.classList.add('over');
            });
            tdWord.addEventListener('dragleave', () => {
                tdWord.classList.remove('over');
            });
            tdWord.addEventListener('drop', (e) => {
                e.preventDefault();
                tdWord.classList.remove('over');
                handleDrop(tdWord.id);
            });
            tr.appendChild(tdWord);

            const tdSelect = document.createElement('td');
            const sel = document.createElement('select');
            sel.id = `time-${i}`;
            TIME_OPTIONS.forEach(opt => {
                const o = document.createElement('option');
                o.value = opt;
                o.textContent = opt === "" ? "Pasirink" : opt;
                sel.appendChild(o);
            });
            tdSelect.appendChild(sel);
            tr.appendChild(tdSelect);

            tbody.appendChild(tr);
        }
    }

    function handleDrop(dropId) {
        if (!draggedWord) return;

        // jei Å¡is Å¾odis jau panaudotas â€“ nebededam
        if (usedWords[draggedWord]) return;

        const cell = document.getElementById(dropId);
        // jei jau yra Å¾odis â€“ pakeiÄiame: atlaisvinam senÄ…
        if (dropAssignments[dropId]) {
            const oldWord = dropAssignments[dropId];
            usedWords[oldWord] = false;
            // grÄ…Å¾inti drag-item Ä¯ aktyviÄ… bÅ«senÄ…
            const itemOld = document.querySelector(`.drag-item[data-word="${oldWord}"]`);
            if (itemOld) itemOld.classList.remove('dragged');
        }

        cell.textContent = draggedWord;
        dropAssignments[dropId] = draggedWord;

        // paÅ¾ymim, kad Å¾odis panaudotas
        usedWords[draggedWord] = true;
        const item = document.querySelector(`.drag-item[data-word="${draggedWord}"]`);
        if (item) item.classList.add('dragged');

        // tekste tÄ… Å¾odÄ¯ padarom â€fadedâ€œ
        const textContainer = document.getElementById('text-container');
        textContainer.querySelectorAll('.text-word').forEach(span => {
            if (span.textContent === draggedWord) {
                span.classList.add('word-dragged-faded');
            }
        });

        draggedWord = null;
    }

    // --- Tikrinimas ---
    function checkTask() {
        const feedbackArea = document.getElementById('feedback-area');
        const resultBox = document.getElementById('result-box');

        let total = 0;
        let correct = 0;

        // nuimame senas spalvas
        document.querySelectorAll('#veik-table td').forEach(td => {
            td.classList.remove('cell-correct', 'cell-incorrect');
        });

        // tikriname kiekvienÄ… eilutÄ™
        for (let i = 1; i <= VEIK_PARTICIPLES.length; i++) {
            const dropId = `drop-${i}`;
            const wordCell = document.getElementById(dropId);
            const sel = document.getElementById(`time-${i}`);

            const word = dropAssignments[dropId];
            const selectedTime = sel.value;

            if (!word) {
                // nieko neÄ¯raÅ¡yta â€“ laikom neteisingu, bet vis tiek skaiÄiuojam
                total++;
                wordCell.classList.add('cell-incorrect');
                continue;
            }

            total++; // uÅ¾ laikÄ…
            const correctTime = VEIK_CORRECT_TIME[word];

            if (selectedTime === correctTime) {
                correct++;
                wordCell.classList.add('cell-correct');
                sel.parentElement.classList.add('cell-correct');
            } else {
                wordCell.classList.add('cell-incorrect');
                sel.parentElement.classList.add('cell-incorrect');
            }
        }

        const percentage = total > 0 ? Math.round((correct / total) * 100) : 0;

        feedbackArea.innerHTML = `
            TeisingÅ³ atsakymÅ³: <strong>${correct}</strong> iÅ¡ <strong>${total}</strong> (${percentage}%).
        `;

        resultBox.style.display = 'block';
        resultBox.innerHTML = `
            <div>Bendras rezultatas:</div>
            <div style="font-size:2.2rem; margin-top:8px;">
                ${percentage}%
            </div>
        `;

        // iÅ¡siunÄiame rezultatÄ…
        sendResultToSheet('L0XXX Veikiamieji dalyviai â€“ dviraÄiÅ³ Å¾ygis', percentage);
    }

    // --- Inicializacija ---
    window.onload = function () {
        buildText();
        buildTable();
    };
</script>
</body>
</html>

