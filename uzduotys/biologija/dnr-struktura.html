<!DOCTYPE html>
<html lang="lt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß¨ Genai ir paveldimumas - Biologija 7 klasƒó</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Verdana, Geneva, Tahoma, sans-serif;
            letter-spacing: 0.05em;
            background-color: #E8F4F8;
            line-height: 1.8;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 15px;
        }

        .page-wrapper {
            width: 100%;
            max-width: 1000px;
        }

        .header-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            gap: 12px;
            flex-wrap: wrap;
        }

        .back-btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #7CB3E9;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-size: 18px;
            transition: background-color 0.3s;
        }
        
        .back-btn:hover {
            background-color: #4A90E2;
        }
        
        .student-info {
            background-color: #ffffff;
            padding: 12px 20px;
            border-radius: 10px;
            border: 2px solid #4A90E2;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 15px;
            flex: 1;
            min-width: 300px;
        }
        
        .change-name-btn {
            background-color: #4A90E2;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-family: Verdana, Geneva, Tahoma, sans-serif;
            font-size: 16px;
            transition: background-color 0.3s;
            white-space: nowrap;
        }
        
        .change-name-btn:hover {
            background-color: #0D3B66;
        }
        
        .card {
            width: 100%;
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(26, 77, 122, 0.15);
            padding: 12px;
            border: 3px solid #4A90E2;
            display: none;
        }

        .card.active {
            display: block;
        }
        
        .task-header {
            text-align: center;
            margin-bottom: 10px;
        }

        .task-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: #0D3B66;
            margin-bottom: 0;
        }
        
        .progress-container {
            background: #f0f0f0;
            border-radius: 10px;
            height: 30px;
            margin: 15px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #667eea, #764ba2);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .question-box {
            background-color: #E8F4F8;
            padding: 10px;
            border-radius: 10px;
            border: 3px solid #7CB3E9;
            margin: 15px 0;
            font-size: 1.4rem;
            line-height: 1.8;
            text-align: center;
            color: #1A4D7A;
            font-weight: 600;
        }
        
        .content-wrapper-left {
            display: flex;
            gap: 10px;
            align-items: flex-start;
            margin: 10px 0;
        }

        .options-container-left {
            flex: 1;
            min-width: 0;
        }

        .image-diagram-right {
            flex: 0 0 40%;
            text-align: center;
            padding: 10px;
            background-color: #f9f9f9;
            border-radius: 10px;
            border: 2px solid #E8F4F8;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .image-diagram-right img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            display: block;
        }
        
        .option {
            background: white;
            border: 3px solid #ddd;
            border-radius: 10px;
            padding: 12px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
            color: #333;
        }

        .option:hover:not(.disabled) {
            border-color: #4A90E2;
            background: #E8F4F8;
            transform: translateX(5px);
        }

        .option input[type="radio"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: #4A90E2;
            flex-shrink: 0;
        }

        .option span {
            flex: 1;
        }

        .option.selected {
            border-color: #4A90E2;
            background: #E8F4F8;
        }

        .option.correct {
            border-color: #27ae60;
            background: #d4edda;
        }

        .option.incorrect {
            border-color: #e74c3c;
            background: #f8d7da;
        }

        .option.disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }
        
        .feedback-message {
            text-align: center;
            margin-top: 15px;
            font-size: 1.2rem;
            font-weight: bold;
            min-height: 25px;
        }

        .feedback-correct {
            color: #27ae60;
        }

        .feedback-incorrect {
            color: #e74c3c;
        }
        
        .button-container {
            text-align: center;
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
        }

        .action-button {
            padding: 12px 28px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            color: white;
            border: none;
            border-radius: 10px;
            transition: all 0.3s;
            font-family: Verdana, Geneva, Tahoma, sans-serif;
        }

        .btn-primary {
            background: linear-gradient(135deg, #4ECDC4, #27ae60);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #4A90E2, #0D3B66);
        }

        .btn-success {
            background: linear-gradient(135deg, #27ae60, #229954);
        }

        .action-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        }

        .action-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        .result-container {
            text-align: center;
            margin-top: 20px;
        }

        .result-title {
            font-size: 1.8rem;
            font-weight: bold;
            color: #0D3B66;
            margin-bottom: 20px;
        }

        .total-score {
            font-size: 1.5rem;
            font-weight: bold;
            margin: 20px 0;
            padding: 20px;
            background-color: #E8F4F8;
            border-radius: 10px;
            border: 3px solid #4ECDC4;
        }

        .score-percentage {
            font-size: 2.5rem;
            margin-top: 10px;
        }

        .score-good {
            color: #27ae60;
        }

        .score-bad {
            color: #e74c3c;
        }

        .result-details {
            margin: 15px 0;
            max-height: 500px;
            overflow-y: auto;
        }

        .result-item {
            padding: 8px 12px;
            margin: 6px 0;
            background-color: #ffffff;
            border-radius: 6px;
            font-size: 0.95rem;
            text-align: left;
        }

        .result-item.correct-item {
            border-left: 4px solid #27ae60;
        }

        .result-item.incorrect-item {
            border-left: 4px solid #e74c3c;
        }
        
        @media (max-width: 768px) {
            .header-row {
                flex-direction: column;
                align-items: stretch;
            }

            .student-info {
                min-width: auto;
            }

            .card {
                padding: 20px;
            }

            .task-title {
                font-size: 1.3rem;
            }

            .question-box {
                font-size: 1.1rem;
                padding: 15px;
            }

            .content-wrapper-left {
                flex-direction: column-reverse;
            }

            .image-diagram-right {
                flex: 1 1 auto;
                width: 100%;
                padding: 10px;
            }

            .options-container-left {
                width: 100%;
            }

            .option {
                font-size: 1rem;
                padding: 12px;
            }

            .action-button {
                font-size: 1rem;
                padding: 10px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="page-wrapper">
        <div class="header-row">
            <a href="/Mokyklai/index.html" class="back-btn">‚Üê GrƒØ≈æti ƒØ prad≈æiƒÖ</a>
            
            <div class="student-info">
                <span style="font-size: 18px; color: #1A4D7A;">
                    Mokinys: <strong id="studentNameDisplay"></strong>
                </span>
                <button class="change-name-btn" onclick="changeName()">Keisti vardƒÖ</button>
            </div>
        </div>
        <div class="card" id="card-1">
            <div class="task-header">
                <div class="task-title">üìù Klausimas 1 / 17</div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar1" style="width: 0%;">0%</div>
            </div>
            <div class="question-box">
                <strong>KokiƒÖ formƒÖ turi DNR molekulƒó?</strong>
            </div>
            <div class="content-wrapper-left">
                <div class="options-container-left" id="options-1"></div>
                <div class="image-diagram-right">
                    <img src="https://raw.githubusercontent.com/kalbosupe-dotcom/Mokyklai/main/images/DNR-molekule.PNG" alt="DNR molekulƒó">
                </div>
            </div>
            <div class="feedback-message" id="feedback-1"></div>
            <div class="button-container">
                <button onclick="checkAnswer(1)" class="action-button btn-primary" id="checkBtn1">‚úÖ Patikrinti</button>
            </div>
        </div>

        <div class="card" id="card-2">
            <div class="task-header">
                <div class="task-title">üìù Klausimas 2 / 17</div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar2" style="width: 6%;">6%</div>
            </div>
            <div class="question-box">
                <strong>I≈° ko sudaryta DNR molekulƒó?</strong>
            </div>
            <div class="content-wrapper-left">
                <div class="options-container-left" id="options-2"></div>
                <div class="image-diagram-right">
                    <img src="https://raw.githubusercontent.com/kalbosupe-dotcom/Mokyklai/main/images/DNR-molekule.PNG" alt="DNR molekulƒó">
                </div>
            </div>
            <div class="feedback-message" id="feedback-2"></div>
            <div class="button-container">
                <button onclick="checkAnswer(2)" class="action-button btn-primary" id="checkBtn2">‚úÖ Patikrinti</button>
            </div>
        </div>

        <div class="card" id="card-3">
            <div class="task-header">
                <div class="task-title">üìù Klausimas 3 / 17</div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar3" style="width: 12%;">12%</div>
            </div>
            <div class="question-box">
                <strong>Kur lƒÖstelƒóje saugoma DNR molekulƒó?</strong>
            </div>
            <div class="content-wrapper-left">
                <div class="options-container-left" id="options-3"></div>
                <div class="image-diagram-right">
                    <img src="https://raw.githubusercontent.com/kalbosupe-dotcom/Mokyklai/main/images/DNR-molekule.PNG" alt="DNR molekulƒó">
                </div>
            </div>
            <div class="feedback-message" id="feedback-3"></div>
            <div class="button-container">
                <button onclick="checkAnswer(3)" class="action-button btn-primary" id="checkBtn3">‚úÖ Patikrinti</button>
            </div>
        </div>

        <div class="card" id="card-4">
            <div class="task-header">
                <div class="task-title">üìù Klausimas 4 / 17</div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar4" style="width: 18%;">18%</div>
            </div>
            <div class="question-box">
                <strong>Kokia DNR molekulƒós funkcija?</strong>
            </div>
            <div class="content-wrapper-left">
                <div class="options-container-left" id="options-4"></div>
                <div class="image-diagram-right">
                    <img src="https://raw.githubusercontent.com/kalbosupe-dotcom/Mokyklai/main/images/DNR-molekule.PNG" alt="DNR molekulƒó">
                </div>
            </div>
            <div class="feedback-message" id="feedback-4"></div>
            <div class="button-container">
                <button onclick="checkAnswer(4)" class="action-button btn-primary" id="checkBtn4">‚úÖ Patikrinti</button>
            </div>
        </div>

        <div class="card" id="card-5">
            <div class="task-header">
                <div class="task-title">üìù Klausimas 5 / 17</div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar5" style="width: 24%;">24%</div>
            </div>
            <div class="question-box">
                <strong>Kas yra chromosoma?</strong>
            </div>
            <div class="content-wrapper-left">
                <div class="options-container-left" id="options-5"></div>
                <div class="image-diagram-right">
                    <img src="https://raw.githubusercontent.com/kalbosupe-dotcom/Mokyklai/main/images/lastele-chromosoma-DNR-molekule.PNG" alt="Chromosoma">
                </div>
            </div>
            <div class="feedback-message" id="feedback-5"></div>
            <div class="button-container">
                <button onclick="checkAnswer(5)" class="action-button btn-primary" id="checkBtn5">‚úÖ Patikrinti</button>
            </div>
        </div>
        <div class="card" id="card-6">
            <div class="task-header">
                <div class="task-title">üìù Klausimas 6 / 17</div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar6" style="width: 30%;">30%</div>
            </div>
            <div class="question-box">
                <strong>Kas yra genas?</strong>
            </div>
            <div class="content-wrapper-left">
                <div class="options-container-left" id="options-6"></div>
                <div class="image-diagram-right">
                    <img src="https://raw.githubusercontent.com/kalbosupe-dotcom/Mokyklai/main/images/lastele-chromosoma-DNR-molekule.PNG" alt="Genas">
                </div>
            </div>
            <div class="feedback-message" id="feedback-6"></div>
            <div class="button-container">
                <button onclick="checkAnswer(6)" class="action-button btn-primary" id="checkBtn6">‚úÖ Patikrinti</button>
            </div>
        </div>

        <div class="card" id="card-7">
            <div class="task-header">
                <div class="task-title">üìù Klausimas 7 / 17</div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar7" style="width: 36%;">36%</div>
            </div>
            <div class="question-box">
                <strong>Kokia teisinga hierarchija: nuo ma≈æiausio iki did≈æiausio?</strong>
            </div>
            <div class="content-wrapper-left">
                <div class="options-container-left" id="options-7"></div>
                <div class="image-diagram-right">
                    <img src="https://raw.githubusercontent.com/kalbosupe-dotcom/Mokyklai/main/images/lastele-chromosoma-DNR-molekule.PNG" alt="Hierarchija">
                </div>
            </div>
            <div class="feedback-message" id="feedback-7"></div>
            <div class="button-container">
                <button onclick="checkAnswer(7)" class="action-button btn-primary" id="checkBtn7">‚úÖ Patikrinti</button>
            </div>
        </div>

        <div class="card" id="card-8">
            <div class="task-header">
                <div class="task-title">üìù Klausimas 8 / 17</div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar8" style="width: 42%;">42%</div>
            </div>
            <div class="question-box">
                <strong>Koks yra mitozƒós tikslas?</strong>
            </div>
            <div class="content-wrapper-left">
                <div class="options-container-left" id="options-8"></div>
                <div class="image-diagram-right">
                    <img src="https://raw.githubusercontent.com/kalbosupe-dotcom/Mokyklai/main/images/mitoze.PNG" alt="Mitozƒó">
                </div>
            </div>
            <div class="feedback-message" id="feedback-8"></div>
            <div class="button-container">
                <button onclick="checkAnswer(8)" class="action-button btn-primary" id="checkBtn8">‚úÖ Patikrinti</button>
            </div>
        </div>

        <div class="card" id="card-9">
            <div class="task-header">
                <div class="task-title">üìù Klausimas 9 / 17</div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar9" style="width: 48%;">48%</div>
            </div>
            <div class="question-box">
                <strong>Kiek lƒÖsteli≈≥ susidaro po vienos mitozƒós?</strong>
            </div>
            <div class="content-wrapper-left">
                <div class="options-container-left" id="options-9"></div>
                <div class="image-diagram-right">
                    <img src="https://raw.githubusercontent.com/kalbosupe-dotcom/Mokyklai/main/images/mitoze.PNG" alt="Mitozƒós rezultatas">
                </div>
            </div>
            <div class="feedback-message" id="feedback-9"></div>
            <div class="button-container">
                <button onclick="checkAnswer(9)" class="action-button btn-primary" id="checkBtn9">‚úÖ Patikrinti</button>
            </div>
        </div>

        <div class="card" id="card-10">
            <div class="task-header">
                <div class="task-title">üìù Klausimas 10 / 17</div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar10" style="width: 54%;">54%</div>
            </div>
            <div class="question-box">
                <strong>Kokios yra susidariusios lƒÖsteles po mitozƒós?</strong>
            </div>
            <div class="content-wrapper-left">
                <div class="options-container-left" id="options-10"></div>
                <div class="image-diagram-right">
                    <img src="https://raw.githubusercontent.com/kalbosupe-dotcom/Mokyklai/main/images/mitoze.PNG" alt="Mitozƒós dukterinƒós lƒÖsteles">
                </div>
            </div>
            <div class="feedback-message" id="feedback-10"></div>
            <div class="button-container">
                <button onclick="checkAnswer(10)" class="action-button btn-primary" id="checkBtn10">‚úÖ Patikrinti</button>
            </div>
        </div>
        <div class="card" id="card-11">
            <div class="task-header">
                <div class="task-title">üìù Klausimas 11 / 17</div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar11" style="width: 60%;">60%</div>
            </div>
            <div class="question-box">
                <strong>Koks yra mejozƒós tikslas?</strong>
            </div>
            <div class="content-wrapper-left">
                <div class="options-container-left" id="options-11"></div>
                <div class="image-diagram-right">
                    <img src="https://raw.githubusercontent.com/kalbosupe-dotcom/Mokyklai/main/images/mejoze.PNG" alt="Mejozƒó">
                </div>
            </div>
            <div class="feedback-message" id="feedback-11"></div>
            <div class="button-container">
                <button onclick="checkAnswer(11)" class="action-button btn-primary" id="checkBtn11">‚úÖ Patikrinti</button>
            </div>
        </div>

        <div class="card" id="card-12">
            <div class="task-header">
                <div class="task-title">üìù Klausimas 12 / 17</div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar12" style="width: 66%;">66%</div>
            </div>
            <div class="question-box">
                <strong>Kiek lƒÖsteli≈≥ susidaro po mejozƒós?</strong>
            </div>
            <div class="content-wrapper-left">
                <div class="options-container-left" id="options-12"></div>
                <div class="image-diagram-right">
                    <img src="https://raw.githubusercontent.com/kalbosupe-dotcom/Mokyklai/main/images/mejoze.PNG" alt="Mejozƒós rezultatas">
                </div>
            </div>
            <div class="feedback-message" id="feedback-12"></div>
            <div class="button-container">
                <button onclick="checkAnswer(12)" class="action-button btn-primary" id="checkBtn12">‚úÖ Patikrinti</button>
            </div>
        </div>

        <div class="card" id="card-13">
            <div class="task-header">
                <div class="task-title">üìù Klausimas 13 / 17</div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar13" style="width: 72%;">72%</div>
            </div>
            <div class="question-box">
                <strong>Kuo skiriasi mitozƒó nuo mejozƒós?</strong>
            </div>
            <div class="content-wrapper-left">
                <div class="options-container-left" id="options-13"></div>
                <div class="image-diagram-right">
                    <img src="https://raw.githubusercontent.com/kalbosupe-dotcom/Mokyklai/main/images/mejoze.PNG" alt="Mitozƒó vs mejozƒó">
                </div>
            </div>
            <div class="feedback-message" id="feedback-13"></div>
            <div class="button-container">
                <button onclick="checkAnswer(13)" class="action-button btn-primary" id="checkBtn13">‚úÖ Patikrinti</button>
            </div>
        </div>

        <div class="card" id="card-14">
            <div class="task-header">
                <div class="task-title">üìù Klausimas 14 / 17</div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar14" style="width: 78%;">78%</div>
            </div>
            <div class="question-box">
                <strong>Kiek chromosom≈≥ turi ≈æmogaus k≈´no lƒÖstelƒó?</strong>
            </div>
            <div class="content-wrapper-left">
                <div class="options-container-left" id="options-14"></div>
                <div class="image-diagram-right">
                    <img src="https://eu.chat-img.sintra.ai/ac176903-616e-42a2-9bfa-4b4c7a0390f9/8437a077-e2a3-4545-9067-41349d0df254/chromosome.png" alt="Chromosom≈≥ skaiƒçius">
                </div>
            </div>
            <div class="feedback-message" id="feedback-14"></div>
            <div class="button-container">
                <button onclick="checkAnswer(14)" class="action-button btn-primary" id="checkBtn14">‚úÖ Patikrinti</button>
            </div>
        </div>

        <div class="card" id="card-15">
            <div class="task-header">
                <div class="task-title">üìù Klausimas 15 / 17</div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar15" style="width: 84%;">84%</div>
            </div>
            <div class="question-box">
                <strong>Kiek chromosom≈≥ turi ≈æmogaus lytinƒó lƒÖstelƒó (spermatozoidas ar kiau≈°ialƒÖstƒó)?</strong>
            </div>
            <div class="content-wrapper-left">
                <div class="options-container-left" id="options-15"></div>
                <div class="image-diagram-right">
                    <img src="https://eu.chat-img.sintra.ai/ac176903-616e-42a2-9bfa-4b4c7a0390f9/8437a077-e2a3-4545-9067-41349d0df254/chromosome.png" alt="Lytinƒós lƒÖsteles chromosomos">
                </div>
            </div>
            <div class="feedback-message" id="feedback-15"></div>
            <div class="button-container">
                <button onclick="checkAnswer(15)" class="action-button btn-primary" id="checkBtn15">‚úÖ Patikrinti</button>
            </div>
        </div>

        <div class="card" id="card-16">
            <div class="task-header">
                <div class="task-title">üìù Klausimas 16 / 17</div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar16" style="width: 90%;">90%</div>
            </div>
            <div class="question-box">
                <strong>Kaip po≈æymiai perduodami i≈° tƒóv≈≥ vaikams?</strong>
            </div>
            <div class="content-wrapper-left">
                <div class="options-container-left" id="options-16"></div>
                <div class="image-diagram-right">
                    <img src="https://raw.githubusercontent.com/kalbosupe-dotcom/Mokyklai/main/images/lastele-chromosoma-DNR-molekule.PNG" alt="Paveldimumas">
                </div>
            </div>
            <div class="feedback-message" id="feedback-16"></div>
            <div class="button-container">
                <button onclick="checkAnswer(16)" class="action-button btn-primary" id="checkBtn16">‚úÖ Patikrinti</button>
            </div>
        </div>

        <div class="card" id="card-17">
            <div class="task-header">
                <div class="task-title">üìù Klausimas 17 / 17</div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar17" style="width: 96%;">96%</div>
            </div>
            <div class="question-box">
                <strong>Kodƒól vaikai pana≈°≈´s ƒØ savo tƒóvus?</strong>
            </div>
            <div class="content-wrapper-left">
                <div class="options-container-left" id="options-17"></div>
                <div class="image-diagram-right">
                    <img src="https://raw.githubusercontent.com/kalbosupe-dotcom/Mokyklai/main/images/lastele-chromosoma-DNR-molekule.PNG" alt="Pana≈°umas ƒØ tƒóvus">
                </div>
            </div>
            <div class="feedback-message" id="feedback-17"></div>
            <div class="button-container">
                <button onclick="checkAnswer(17)" class="action-button btn-primary" id="checkBtn17">‚úÖ Patikrinti</button>
            </div>
        </div>

        <div class="card" id="card-results">
            <div class="result-title">üéâ Genai ir paveldimumas - Rezultatai</div>
            <div class="result-container">
                <div class="total-score" id="total-score"></div>
                <div class="result-details" id="result-details"></div>
            </div>
            <div class="button-container">
                <button onclick="location.reload()" class="action-button btn-success">üîÑ Pradƒóti i≈° naujo</button>
            </div>
        </div>
    </div>
    <script>
        // Google Sheets URL - PAKEISK ƒÆ SAVO!
        const SHEET_URL = 'https://script.google.com/macros/s/AKfycbzhXP3hJ6NBLOld6Gbg-tlN-Tk8BPoxx32tx9j-iKCJChVyeOpZiDyGu9g2cm6Vl0uf/exec';
        
        let currentQuestion = 1;
        let correctAnswers = 0;
        const totalQuestions = 17;
        let userAnswers = [];

        // Klausim≈≥ duomenys su atsakymais
        const questionsData = [
            { id: 1, question: 'KokiƒÖ formƒÖ turi DNR molekulƒó?', options: [{ text: 'Vienguba spiralƒó', correct: false }, { text: 'Dviguba spiralƒó', correct: true }, { text: 'Tiesƒó', correct: false }, { text: '≈Ωiedas', correct: false }] },
            { id: 2, question: 'I≈° ko sudaryta DNR molekulƒó?', options: [{ text: 'Baltym≈≥', correct: false }, { text: 'Nukleotid≈≥', correct: true }, { text: 'Riebal≈≥', correct: false }, { text: 'Angliavandeni≈≥', correct: false }] },
            { id: 3, question: 'Kur lƒÖstelƒóje saugoma DNR molekulƒó?', options: [{ text: 'Citoplazmoje', correct: false }, { text: 'Branduolyje', correct: true }, { text: 'Mitochondrijose', correct: false }, { text: 'Ribosomose', correct: false }] },
            { id: 4, question: 'Kokia DNR molekulƒós funkcija?', options: [{ text: 'Suteikia energijos lƒÖstelei', correct: false }, { text: 'Saugo genetinƒô informacijƒÖ', correct: true }, { text: 'Gamina baltymus', correct: false }, { text: 'Saugo lƒÖstelƒô nuo lig≈≥', correct: false }] },
            { id: 5, question: 'Kas yra chromosoma?', options: [{ text: 'LƒÖstelƒós branduolys', correct: false }, { text: 'Sutankƒójusios DNR sudarytas darinys', correct: true }, { text: 'Baltymas lƒÖstelƒóje', correct: false }, { text: 'LƒÖstelƒós membrana', correct: false }] },
            { id: 6, question: 'Kas yra genas?', options: [{ text: 'Visa DNR molekulƒó', correct: false }, { text: 'DNR molekulƒós dalis, koduojanti tam tikrƒÖ organizmo po≈æymƒØ', correct: true }, { text: 'Chromosoma', correct: false }, { text: 'LƒÖstelƒós branduolys', correct: false }] },
            { id: 7, question: 'Kokia teisinga hierarchija: nuo ma≈æiausio iki did≈æiausio?', options: [{ text: 'Chromosoma ‚Üí DNR ‚Üí Genas ‚Üí LƒÖstelƒó', correct: false }, { text: 'Genas ‚Üí DNR ‚Üí Chromosoma ‚Üí LƒÖstelƒó', correct: true }, { text: 'DNR ‚Üí Genas ‚Üí LƒÖstelƒó ‚Üí Chromosoma', correct: false }, { text: 'LƒÖstelƒó ‚Üí Genas ‚Üí DNR ‚Üí Chromosoma', correct: false }] },
            { id: 8, question: 'Koks yra mitozƒós tikslas?', options: [{ text: 'Gaminti lytines lƒÖsteles', correct: false }, { text: 'Auginti ir atstatyti k≈´no lƒÖsteles', correct: true }, { text: 'Suma≈æinti chromosom≈≥ skaiƒçi≈≥', correct: false }, { text: 'Keisti DNR strukt≈´rƒÖ', correct: false }] },
            { id: 9, question: 'Kiek lƒÖsteli≈≥ susidaro po vienos mitozƒós?', options: [{ text: 'Viena lƒÖstelƒó', correct: false }, { text: 'Dvi identi≈°kos lƒÖstelƒós', correct: true }, { text: 'Keturios lƒÖstelƒós', correct: false }, { text: 'A≈°tuonios lƒÖsteles', correct: false }] },
            { id: 10, question: 'Kokios yra susidariusios lƒÖsteles po mitozƒós?', options: [{ text: 'Skirtingos chromosom≈≥ skaiƒçiaus', correct: false }, { text: 'Identi≈°kas motininei lƒÖstelei', correct: true }, { text: 'Su perpus ma≈æesniu chromosom≈≥ skaiƒçiumi', correct: false }, { text: 'Lytinƒós lƒÖsteles', correct: false }] },
            { id: 11, question: 'Koks yra mejozƒós tikslas?', options: [{ text: 'Auginti ir atstatyti k≈´no lƒÖsteles', correct: false }, { text: 'Gaminti lytines lƒÖsteles (spermatozoidus ir kiau≈°ialƒÖstes)', correct: true }, { text: 'Suma≈æinti lƒÖsteli≈≥ skaiƒçi≈≥', correct: false }, { text: 'Keisti chromosom≈≥ formƒÖ', correct: false }] },
            { id: 12, question: 'Kiek lƒÖsteli≈≥ susidaro po mejozƒós?', options: [{ text: 'Dvi lƒÖsteles', correct: false }, { text: 'Keturios lƒÖsteles su perpus ma≈æesniu chromosom≈≥ skaiƒçiumi', correct: true }, { text: 'A≈°tuonios lƒÖsteles', correct: false }, { text: 'Viena lƒÖstelƒó', correct: false }] },
            { id: 13, question: 'Kuo skiriasi mitozƒó nuo mejozƒós?', options: [{ text: 'Mitozƒó gamina identi≈°kas lƒÖsteles, mejozƒó - lytines su perpus ma≈æiau chromosom≈≥', correct: true }, { text: 'Mitozƒó gamina lytines lƒÖsteles, mejozƒó - identi≈°kas', correct: false }, { text: 'Nƒóra jokio skirtumo', correct: false }, { text: 'Mitozƒó yra greitesnƒó nei mejozƒó', correct: false }] },
            { id: 14, question: 'Kiek chromosom≈≥ turi ≈æmogaus k≈´no lƒÖstelƒó?', options: [{ text: '23 chromosomas', correct: false }, { text: '46 chromosomas (23 poros)', correct: true }, { text: '92 chromosomas', correct: false }, { text: '12 chromosom≈≥', correct: false }] },
            { id: 15, question: 'Kiek chromosom≈≥ turi ≈æmogaus lytinƒó lƒÖstelƒó (spermatozoidas ar kiau≈°ialƒÖstƒó)?', options: [{ text: '46 chromosomas', correct: false }, { text: '23 chromosomas', correct: true }, { text: '92 chromosomas', correct: false }, { text: '12 chromosom≈≥', correct: false }] },
            { id: 16, question: 'Kaip po≈æymiai perduodami i≈° tƒóv≈≥ vaikams?', options: [{ text: 'Per baltym≈≥', correct: false }, { text: 'Per genus, esanƒçius chromosomose', correct: true }, { text: 'Per mitochondrijas', correct: false }, { text: 'Per ribosomas', correct: false }] },
            { id: 17, question: 'Kodƒól vaikai pana≈°≈´s ƒØ savo tƒóvus?', options: [{ text: 'Dƒól aplinkos', correct: false }, { text: 'Nes paveldi genus su genetine informacija i≈° abiej≈≥ tƒóv≈≥', correct: true }, { text: 'Atsitiktinai', correct: false }, { text: 'Dƒól maisto', correct: false }] }
        ];

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function renderOptions(questionNum) {
            const question = questionsData[questionNum - 1];
            const container = document.getElementById('options-' + questionNum);
            const shuffledOptions = shuffleArray(question.options);
            
            container.innerHTML = '';
            shuffledOptions.forEach((option, index) => {
                const label = document.createElement('label');
                label.className = 'option';
                label.setAttribute('data-question', questionNum);
                label.setAttribute('data-answer', option.correct ? 'correct' : 'wrong');
                
                label.innerHTML = 
                    '<input type="radio" name="q' + questionNum + '" value="' + index + '">' +
                    '<span>' + option.text + '</span>';
                
                label.addEventListener('click', function() {
                    if (!this.classList.contains('disabled')) {
                        const input = this.querySelector('input');
                        input.checked = true;
                        
                        document.querySelectorAll('.option[data-question="' + questionNum + '"]').forEach(opt => {
                            opt.classList.remove('selected');
                        });
                        
                        this.classList.add('selected');
                    }
                });
                
                container.appendChild(label);
            });
        }

        function updateProgressBar(questionNum) {
            const percentage = Math.round(((questionNum - 1) / totalQuestions) * 100);
            for (let i = 1; i <= totalQuestions; i++) {
                const progressBar = document.getElementById('progressBar' + i);
                if (progressBar) {
                    progressBar.style.width = percentage + '%';
                    progressBar.textContent = percentage + '%';
                }
            }
        }

        function showNamePrompt() {
            const studentName = localStorage.getItem('studentName');
            
            if (!studentName) {
                const name = prompt('ƒÆvesk savo vardƒÖ:');
                if (name && name.trim() !== '') {
                    localStorage.setItem('studentName', name.trim());
                    return name.trim();
                } else {
                    alert('Pra≈°ome ƒØvesti vardƒÖ, kad galƒótumƒóte pradƒóti u≈æduotƒØ.');
                    return showNamePrompt();
                }
            }
            return studentName;
        }

        function changeName() {
            localStorage.removeItem('studentName');
            const newName = showNamePrompt();
            alert('Vardas pakeistas ƒØ: ' + newName);
            location.reload();
        }

        function sendResultToSheet(taskName, score) {
            const studentName = localStorage.getItem('studentName') || 'Ne≈æinomas';
            const timestamp = new Date().toLocaleString('lt-LT');
            
            const data = {
                name: studentName,
                task: taskName,
                score: score,
                timestamp: timestamp
            };
            
            fetch(SHEET_URL, {
                method: 'POST',
                mode: 'no-cors',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data)
            })
            .then(() => {
                console.log('Rezultatas sƒókmingai i≈°si≈≥stas ƒØ Google Sheets! ‚úÖ');
            })
            .catch(error => {
                console.error('Klaida siunƒçiant rezultatƒÖ:', error);
            });
        }

        const studentName = showNamePrompt();
        document.getElementById('studentNameDisplay').textContent = studentName;

        for (let i = 1; i <= totalQuestions; i++) {
            renderOptions(i);
        }

        function checkAnswer(questionNum) {
            const selectedInput = document.querySelector('input[name="q' + questionNum + '"]:checked');
            const feedback = document.getElementById('feedback-' + questionNum);
            const checkBtn = document.getElementById('checkBtn' + questionNum);
            const options = document.querySelectorAll('.option[data-question="' + questionNum + '"]');
            
            if (!selectedInput) {
                alert('‚ö†Ô∏è Pra≈°ome pasirinkti atsakymƒÖ!');
                return;
            }

            const selectedOption = selectedInput.parentElement;
            const isCorrect = selectedOption.getAttribute('data-answer') === 'correct';
            
            userAnswers.push({
                question: questionNum,
                isCorrect: isCorrect
            });

            options.forEach(option => {
                option.classList.add('disabled');
                if (option.getAttribute('data-answer') === 'correct') {
                    option.classList.add('correct');
                }
                if (option.classList.contains('selected') && !isCorrect) {
                    option.classList.add('incorrect');
                }
            });

            if (isCorrect) {
                feedback.classList.add('feedback-correct');
                feedback.innerHTML = '‚úÖ Teisingai! Puikus darbas!';
                correctAnswers++;
            } else {
                feedback.classList.add('feedback-incorrect');
                feedback.innerHTML = '‚ùå Neteisingai. Teisingas atsakymas pa≈æymƒótas ≈æalia spalva.';
            }

            checkBtn.className = 'action-button btn-secondary';
            if (questionNum < totalQuestions) {
                checkBtn.textContent = '‚û°Ô∏è Toliau';
                checkBtn.onclick = function() {
                    showCard(questionNum + 1);
                };
            } else {
                checkBtn.textContent = 'üèÅ Rezultatai';
                checkBtn.onclick = function() {
                    showResults();
                };
            }
        }

        function showCard(cardNum) {
            document.querySelectorAll('.card').forEach(card => {
                card.classList.remove('active');
            });
            
            const targetCard = document.getElementById('card-' + cardNum);
            if (targetCard) {
                targetCard.classList.add('active');
                updateProgressBar(cardNum); // Atnaujinti progreso juostƒÖ
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        // PATAISYTA: I≈°taisytas sintaksƒós klaidos duplikavimas
        function showResults() {
            document.querySelectorAll('.card').forEach(card => {
                card.classList.remove('active');
            });
            document.getElementById('card-results').classList.add('active');

            const resultDetails = document.getElementById('result-details');
            const totalScoreEl = document.getElementById('total-score');
            
            const questions = questionsData.map(q => q.question);
            const correctTexts = questionsData.map(q => q.options.find(opt => opt.correct).text);

            let detailsHTML = '';
            
            userAnswers.forEach((answer, index) => {
                const itemClass = answer.isCorrect ? 'correct-item' : 'incorrect-item';
                const icon = answer.isCorrect ? '‚úÖ' : '‚ùå';
                const statusText = answer.isCorrect 
                    ? '<span style="color: #27ae60;">Teisingai</span>' 
                    : '<span style="color: #e74c3c;">Neteisingai</span>';
                
                detailsHTML += '<div class="result-item ' + itemClass + '">' +
                    icon + ' <strong>' + (index + 1) + '. ' + questions[index] + '</strong> - ' + statusText;
                
                if (!answer.isCorrect) {
                    detailsHTML += '<div style="margin-top:5px; font-size:0.9rem; color:#1A4D7A;">Teisingas: ' + correctTexts[index] + '</div>';
                }
                
                detailsHTML += '</div>';
            });
            
            resultDetails.innerHTML = detailsHTML;
            
            const percentage = Math.round((correctAnswers / totalQuestions) * 100);
            const scoreClass = percentage >= 70 ? 'score-good' : 'score-bad';
            
            totalScoreEl.innerHTML = 
                '<div>Teisingai atsakyta: <strong>' + correctAnswers + ' / ' + totalQuestions + '</strong></div>' +
                '<div class="score-percentage ' + scoreClass + '">' + percentage + '%</div>';
            
            sendResultToSheet('B0002 Genai ir paveldimumas | 17 klausim≈≥', percentage);
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // PALEIDIMO KLAIDOS PATAISYMAS: Pradiniu paleidimu parodomas 1-as klausimas
        showCard(1); 

        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                const activeCard = document.querySelector('.card.active');
                if (activeCard && activeCard.id.startsWith('card-')) {
                    const cardNum = parseInt(activeCard.id.split('-')[1]);
                    if (!isNaN(cardNum) && cardNum <= totalQuestions) {
                        const checkBtn = document.getElementById('checkBtn' + cardNum);
                        if (checkBtn) {
                            checkBtn.click();
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
