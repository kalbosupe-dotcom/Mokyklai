<!DOCTYPE html>
<html lang="lt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalbos Upė | Užduočių bankas</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <div class="container header-content">
            <img src="images/logo.png" alt="Kalbos Upė" class="logo">
            <h1>Interaktyvios užduotys - pritaikyta SUP - tinka visiems</h1>
        </div>
    </header>

    <main class="container main-content">
        <section class="intro">
            <p>Sveiki atvykę į "Kalbos Upę" - interaktyvių užduočių platformą, pritaikytą mokiniams, turintiems specialiųjų ugdymosi poreikių. Pasirinkite kriterijus, kad rastumėte tinkančias užduotis.</p>
        </section>
        
        <div class="filter-controls">
            <div class="filter-group">
                <label for="dalykas-select">Dalykas:</label>
                <select id="dalykas-select" class="filter-select">
                    <option value="visi">Visi dalykai</option>
                    <option value="lietuviu">Lietuvių kalba</option>
                    <option value="matematika">Matematika</option>
                    </select>
            </div>

            <div class="filter-group">
                <label for="klase-select">Klasė:</label>
                <select id="klase-select" class="filter-select">
                    <option value="visos">Visos klasės</option>
                    <option value="5">5 klasė</option>
                    <option value="6">6 klasė</option>
                    <option value="7">7 klasė</option>
                    <option value="8">8 klasė</option>
                    <option value="9">9 klasė</option>
                    </select>
            </div>

            <div class="filter-group">
                <label for="sup-select">Pritaikymas SUP:</label>
                <select id="sup-select" class="filter-select">
                    <option value="visi">Visi pritaikymai</option>
                    <option value="disleksija">Disleksija</option>
                    <option value="disgrafija">Disgrafija</option>
                    <option value="kalbos">Kalbos sutrikimas</option>
                    <option value="demesio">Dėmesio sutrikimas</option>
                </select>
            </div>
        </div>

        <div class="results-info">
            <span id="result-count">0 užduočių rasta.</span>
            <button class="reset-filters">Išvalyti filtrus</button>
        </div>

        <div class="task-grid" id="task-grid">
            <p>Pasirinkite filtrus aukščiau, kad pamatytumėte užduotis.</p>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Kalbos Upė. Sukurta su meile lietuvių kalbai.</p>
        </div>
    </footer>
    
    <script>
        // --- UŽDUOČIŲ DUOMENŲ BAZĖ ---
        // SVARBU: PRIDĖKITE ČIA VISAS SAVO UŽDUOTIS IR JŲ METADUOMENIS!
        const taskDatabase = [
            {
                id: 'L001',
                title: 'Kalbos dalys: Atpažinimas (D, B, V)',
                description: 'Daiktavardžio, būdvardžio ir veiksmažodžio atpažinimas.',
                url: 'uzduotys/kalbos-dalys/kalbos-dalys-atpazink-kuri-d-b-v.html',
                dalykas: 'lietuviu',
                klase: 5,
                sup: ['disleksija', 'disgrafija']
            },
            {
                id: 'L002',
                title: 'Skiemenavimas: Ilgi žodžiai',
                description: 'Sudėtingesni žodžiai su 4-6 skiemenimis.',
                url: 'uzduotys/zodzio-dalys/skiemenavimas-ilgi-zodziai.html',
                dalykas: 'lietuviu',
                klase: 6,
                sup: ['disleksija', 'kalbos']
            },
            {
                id: 'L003',
                title: 'Skiemenavimas: Įsimintini žodžiai',
                description: 'Dažnai netaisyklingai rašomi žodžiai (mįslė, ąsotis...).',
                url: 'uzduotys/zodzio-dalys/skiemenavimas-isimintini-zodziai.html',
                dalykas: 'lietuviu',
                klase: 7,
                sup: ['disleksija']
            }
            // PRIDĖKITE ČIA kitas užduotis ateityje, nurodydami jų klases ir pritaikymą.
        ];
        // --- FILTRAVIMO LOGIKA ---

        const dalykasSelect = document.getElementById('dalykas-select');
        const klaseSelect = document.getElementById('klase-select');
        const supSelect = document.getElementById('sup-select');
        const taskGrid = document.getElementById('task-grid');
        const resultCount = document.getElementById('result-count');
        const resetButton = document.querySelector('.reset-filters');

        function filterTasks() {
            const selectedDalykas = dalykasSelect.value;
            const selectedKlase = klaseSelect.value;
            const selectedSup = supSelect.value;

            const filteredTasks = taskDatabase.filter(task => {
                const dalykasMatch = selectedDalykas === 'visi' || task.dalykas === selectedDalykas;
                const klaseMatch = selectedKlase === 'visos' || task.klase === parseInt(selectedKlase);
                const supMatch = selectedSup === 'visi' || task.sup.includes(selectedSup);
                
                return dalykasMatch && klaseMatch && supMatch;
            });

            renderTasks(filteredTasks);
        }

        function renderTasks(tasks) {
            taskGrid.innerHTML = ''; 
            
            if (tasks.length === 0) {
                taskGrid.innerHTML = '<p class="no-results">Pagal pasirinktus kriterijus užduočių nerasta. Pabandykite keisti filtrus.</p>';
            } else {
                tasks.forEach(task => {
                    const taskCard = document.createElement('a');
                    taskCard.href = task.url;
                    taskCard.classList.add('task-card-filtered');
                    
                    // SUP etiketės generavimas
                    const supBadges = task.sup.map(sup => `<span class="sup-badge sup-${sup}">${sup.charAt(0).toUpperCase() + sup.slice(1)}</span>`).join('');

                    taskCard.innerHTML = `
                        <div class="task-header">
                            <span class="task-klase">${task.klase} klasė</span>
                            <span class="task-id">ID: ${task.id}</span>
                        </div>
                        <h3 class="task-title">${task.title}</h3>
                        <p class="task-description">${task.description}</p>
                        <div class="task-footer">
                            <span class="task-dalykas">${task.dalykas.charAt(0).toUpperCase() + task.dalykas.slice(1)}</span>
                            <div class="sup-badges">${supBadges}</div>
                        </div>
                    `;
                    taskGrid.appendChild(taskCard);
                });
            }
            
            resultCount.textContent = `${tasks.length} užduočių rasta.`;
        }
        
        function resetFilters() {
            dalykasSelect.value = 'visi';
            klaseSelect.value = 'visos';
            supSelect.value = 'visi';
            filterTasks(); 
        }

        // Įvykių klausytojai
        dalykasSelect.addEventListener('change', filterTasks);
        klaseSelect.addEventListener('change', filterTasks);
        supSelect.addEventListener('change', filterTasks);
        resetButton.addEventListener('click', resetFilters);

        // Pradinis paleidimas
        filterTasks();
    </script>
</body>
</html>

