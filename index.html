<!DOCTYPE html>
<html lang="lt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalbos Upė | Užduočių bankas</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <div class="container header-content">
            <img src="images/logo.png" alt="Kalbos Upė" class="logo">
            <h1>Interaktyvios užduotys - pritaikytą mokiniams su SUP - tinka visiems</h1>
        </div>
    </header>

    <main class="container main-content">
        <section class="intro">
            <p>Sveiki atvykę į "Kalbos Upę" - interaktyvių užduočių platformą, draugišką mokiniams su specialiaisiais ugdymosi poreikiais. Pasirinkite kriterijus, kad rastumėte tinkančias užduotis.</p>
        </section>
        
        <div class="filter-controls">
            
            <div class="filter-group full-width">
                <label for="search-input">Paieška pagal raktinį žodį:</label>
                <input type="text" id="search-input" class="filter-select" placeholder="Įveskite raktinį žodį (pvz., linksniavimas, ląstelė, veiksmažodis)">
            </div>
            
            <div class="filter-group">
                <label for="dalykas-select">Dalykas:</label>
                <select id="dalykas-select" class="filter-select">
                    <option value="visi">Visi dalykai</option>
                    <option value="lietuviu">Lietuvių kalba</option>
                    <option value="anglu">Anglų kalba</option>
                    <option value="matematika">Matematika</option>
                    <option value="biologija">Biologija</option>
                </select>
            </div>

            <div class="filter-group">
                <label for="klase-select">Klasė:</label>
                <select id="klase-select" class="filter-select">
                    <option value="visos">Visos klasės</option>
                    <option value="5">5 klasė</option>
                    <option value="6">6 klasė</option>
                    <option value="7">7 klasė</option>
                    <option value="8">8 klasė</option>
                    <option value="9">9 klasė</option>
                </select>
            </div>

            <div class="filter-group">
                <label for="sup-select">Pritaikymas SUP:</label>
                <select id="sup-select" class="filter-select">
                    <option value="visi">Visi pritaikymai</option>
                    <option value="disleksija">Disleksija</option>
                    <option value="disgrafija">Disgrafija</option>
                    <option value="kalbos">Kalbos sutrikimas</option>
                    <option value="demesio">Dėmesio sutrikimas</option>
                </select>
            </div>
        </div>

        <div class="results-info">
            <span id="result-count">0 užduočių rasta.</span>
            <button class="reset-filters">Išvalyti filtrus</button>
        </div>

        <div class="task-grid" id="task-grid">
            <p class="no-results-msg">Pasirinkite filtrus aukščiau, kad pamatytumėte užduotis.</p>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Kalbos Upė.</p>
        </div>
    </footer>
    
    <script>
        // --- UŽDUOČIŲ DUOMENŲ BAZĖ (SU TEMA LAUKU) ---
        const taskDatabase = [
            {
                id: 'L001',
                title: 'Kalbos dalys: Atpažink',
                description: 'Daiktavardis, Būdvardis, Veiksmažodis',
                url: 'uzduotys/kalbos-dalys/kalbos-dalys-atpazink-kuri-d-b-v.html',
                dalykas: 'lietuviu',
                klase: 7, 
                sup: ['disleksija', 'disgrafija'],
                tema: 'Kalbos dalys'
            },
            {
                id: 'L002',
                title: 'Kalbos dalys: Atpažink',
                description: 'Daiktavardis, Būdvardis, Veiksmažodis, Prieveiksmis',
                url: 'uzduotys/kalbos-dalys/kalbos-dalys-atpazink-kuri-d-b-v-p.html',
                dalykas: 'lietuviu',
                klase: 7, 
                sup: ['disleksija', 'disgrafija'],
                tema: 'Kalbos dalys'
            },
            {
                id: 'L003',
                title: 'Kalbos dalys: Išrūšiuok',
                description: 'Daiktavardis, Būdvardis, Veiksmažodis',
                url: 'uzduotys/kalbos-dalys/kalbos-dalys-isrusiuok-kalbos-dalis-d-b-v.html',            
                dalykas: 'lietuviu',
                klase: 7, 
                sup: ['disleksija', 'disgrafija'],
                tema: 'Kalbos dalys'
            },
            {
                id: 'L004',
                title: 'Skiemenavimas: Įvairūs žodžiai',
                description: 'Nesudėtingi žodžiai su 2-3 skiemenimis.',
                url: 'uzduotys/zodzio-dalys/skiemenavimas-ivairus-zodziai.html',
                dalykas: 'lietuviu',
                klase: 6,
                sup: ['disleksija', 'kalbos'],
                tema: 'Žodžio dalys'
            },            
            {
                id: 'L005',
                title: 'Skiemenavimas: Ilgi žodžiai',
                description: 'Sudėtingesni žodžiai su 4-6 skiemenimis.',
                url: 'uzduotys/zodzio-dalys/skiemenavimas-ilgi-zodziai.html',
                dalykas: 'lietuviu',
                klase: 6,
                sup: ['disleksija', 'kalbos'],
                tema: 'Žodžio dalys'
            },
            {
                id: 'L006',
                title: 'Skiemenavimas: Įsimintini žodžiai',
                description: 'Dažnai netaisyklingai rašomi žodžiai (mįslė, ąsotis...).',
                url: 'uzduotys/zodzio-dalys/skiemenavimas-isimintini-zodziai.html',
                dalykas: 'lietuviu',
                klase: 7,
                sup: ['disleksija', 'disgrafija'],
                tema: 'Žodžio dalys'
            },
            {
                id: 'L007',
                title: 'Skiemenavimas: Ląstelės sandaros žodžiai',
                description: 'Išmok ląstelės sandaros žodžius (vakuolė, mitochondrija...).',
                url: 'uzduotys/zodzio-dalys/skiemenavimas-biologija-lastele.html',
                dalykas: 'lietuviu',
                klase: 7,
                sup: ['disleksija', 'disgrafija'],
                tema: 'Žodžio dalys'
            },
            {
                id: 'L008',
                title: 'Linksniavimas: Daiktavardžiai',
                description: 'Sudėk daiktavardžius tinkama tvarka prie linksnių.',
                url: 'uzduotys/kalbos-dalys/linksniavimas-sudel-zodzius-tinkama-tvarka-prie-linksniu.html',
                dalykas: 'lietuviu',
                klase: 7,
                sup: ['disleksija', 'disgrafija'],
                tema: 'Kalbos dalys'
            },            
            {
                id: 'B001',
                title: 'Ląstelės sandara',
                description: 'Atpažinkite pagrindines ląstelės dalis.',
                url: 'uzduotys/biologija/lasteles-sandara.html',
                dalykas: 'biologija',
                klase: 8,
                sup: ['disleksija', 'disgrafija'],
                tema: 'Ląstelė'
            },
            {
                id: 'B002',
                title: 'Mejozė ir Mitozė',
                description: 'Priskirk sąvybes.',
                url: 'uzduotys/biologija/lastele/mejoze-mitoze.html',
                dalykas: 'biologija',
                klase: 7,
                sup: ['disleksija', 'disgrafija'],
                tema: 'Ląstelė'
}
            // PRIDĖKITE ČIA kitas užduotis, nurodydami jų klases, SUP ir BŪTINAI temą!
        ];
        // --- FILTRAVIMO LOGIKA ---

        const dalykasSelect = document.getElementById('dalykas-select');
        const klaseSelect = document.getElementById('klase-select');
        const supSelect = document.getElementById('sup-select');
        const searchInput = document.getElementById('search-input'); // NAUJAS
        const taskGrid = document.getElementById('task-grid');
        const resultCount = document.getElementById('result-count');
        const resetButton = document.querySelector('.reset-filters');
        const noResultsMsg = document.querySelector('.no-results-msg');


        function filterTasks() {
            const selectedDalykas = dalykasSelect.value;
            const selectedKlase = klaseSelect.value;
            const selectedSup = supSelect.value;
            const searchTerm = searchInput.value.toLowerCase().trim(); // NAUJAS: Paieškos tekstas
            
            if (noResultsMsg) noResultsMsg.style.display = 'none';

            const filteredTasks = taskDatabase.filter(task => {
                const taskKlase = task.klase; 
                const filterKlase = selectedKlase === 'visos' ? 'visos' : parseInt(selectedKlase);

                const dalykasMatch = selectedDalykas === 'visi' || task.dalykas === selectedDalykas;
                const klaseMatch = selectedKlase === 'visos' || taskKlase === filterKlase;
                const supMatch = selectedSup === 'visi' || task.sup.includes(selectedSup);
                
                // Paieškos sąlyga: Tikriname title, description ir temą
                const searchMatch = searchTerm === '' || 
                                    task.title.toLowerCase().includes(searchTerm) ||
                                    task.description.toLowerCase().includes(searchTerm) ||
                                    (task.tema && task.tema.toLowerCase().includes(searchTerm)); 

                return dalykasMatch && klaseMatch && supMatch && searchMatch;
            });

            renderTasks(filteredTasks);
        }

        function renderTasks(tasks) {
            taskGrid.innerHTML = ''; 
            
            if (tasks.length === 0) {
                taskGrid.innerHTML = '<p class="no-results">Pagal pasirinktus kriterijus užduočių nerasta. Pabandykite keisti filtrus.</p>';
                taskGrid.style.display = 'grid'; 
            } else {
                tasks.forEach(task => {
                    const taskCard = document.createElement('a');
                    taskCard.href = task.url;
                    taskCard.classList.add('task-card-filtered');
                    
                    const supBadges = task.sup.map(sup => `<span class="sup-badge sup-${sup}">${sup.charAt(0).toUpperCase() + sup.slice(1)}</span>`).join('');

                    taskCard.innerHTML = `
                        <div class="task-header">
                            <span class="task-klase">${task.klase} klasė</span>
                            <span class="task-id">ID: ${task.id}</span>
                        </div>
                        <h3 class="task-title">${task.title}</h3>
                        <p class="task-topic">Tema: ${task.tema}</p> <p class="task-description">${task.description}</p>
                        <div class="task-footer">
                            <span class="task-dalykas">${task.dalykas.charAt(0).toUpperCase() + task.dalykas.slice(1)}</span>
                            <div class="sup-badges">${supBadges}</div>
                        </div>
                    `;
                    taskGrid.appendChild(taskCard);
                });
            }
            
            resultCount.textContent = `${tasks.length} užduočių rasta.`;
        }
        
        function resetFilters() {
            dalykasSelect.value = 'visi';
            klaseSelect.value = 'visos';
            supSelect.value = 'visi';
            searchInput.value = ''; // Išvalome paieškos lauką
            filterTasks(); 
        }

        // Įvykių klausytojai
        dalykasSelect.addEventListener('change', filterTasks);
        klaseSelect.addEventListener('change', filterTasks);
        supSelect.addEventListener('change', filterTasks);
        searchInput.addEventListener('input', filterTasks); // NAUJAS klausytojas paieškai
        resetButton.addEventListener('click', resetFilters);

        // Pradinis paleidimas
        filterTasks();
    </script>
</body>
</html>













